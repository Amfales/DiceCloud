<template name="healthCard">
	<paper-shadow class="card container healthCard" 
				  hero-id="main" {{detailHero "hitPoints" _id}} 
				  layout horizontal wrap>
		<div class="green white-text subhead left" 
			 hero-id="toolbar" {{detailHero "hitPoints" _id}}
			 layout vertical center center-justified>
			<div class="hitPointTitle clickable">Hit Points</div>
			<paper-icon-button class="white54" 
							   id="addTempHP" 
							   icon="add" 
							   disabled={{#unless canEditCharacter _id}}true{{/unless}}>
			</paper-icon-button>
		</div>
		<div class="right" flex layout vertical center-justified style="min-width: 180px;">
			<div layout horizontal>
				<paper-diff-slider id="hitPointSlider"
								   value={{characterCalculate "attributeValue" _id "hitPoints"}}
								   max={{characterCalculate "attributeBase" _id "hitPoints"}}
								   editable pin
								   disabled={{#unless canEditCharacter _id}}true{{/unless}}
								   role="slider">
				</paper-diff-slider>
			</div>
			{{#each tempHitPoints}}
				<div>
					{{name}}
					<div layout horizontal>
					<paper-diff-slider class="tempHitPointSlider"
							  value={{left}}
							  max={{maximum}}
							  editable pin
							  role="slider"
							  flex
							  ></paper-diff-slider>
					{{#unless left}}{{#unless deleteOnZero}}
						<paper-icon-button class="deleteTHP" icon="delete"></paper-icon-button>
					{{/unless}}{{/unless}}
				</div>
			</div>
			{{/each}}
			<div class="caption">
				{{#if multipliers.immunities.length}} 
					<div>
						Immune:     {{#each multipliers.immunities}}  {{name}} {{/each}}
					</div>
				{{/if}}
				{{#if multipliers.resistances.length}}
					<div>
						Resistance: {{#each multipliers.resistances}} {{name}} {{/each}}
					</div>
				{{/if}}
				{{#if multipliers.weaknesses.length}}
					<div>
						Weakness:   {{#each multipliers.weaknesses}}  {{name}} {{/each}}
					</div>
				{{/if}}
			</div>
			{{#if showDeathSave}}
				{{#with deathSaveObject}}
					<div class="padded" layout vertical center>
						<div class="subhead">
							Death Saves
						</div>
						<div layout horizontal>
							<div layout vertical center>
								<div class="caption">Fail</div>
								<div layout horizontal center-justified wrap reverse>
									<paper-icon-button class="slotBubble failBubble" icon={{failIcon 1}} disabled={{failDisabled 1}}></paper-icon-button>
									<paper-icon-button class="slotBubble failBubble" icon={{failIcon 2}} disabled={{failDisabled 2}}></paper-icon-button>
									<paper-icon-button class="slotBubble failBubble" icon={{failIcon 3}} disabled={{failDisabled 3}}></paper-icon-button>
								</div>
							</div>
							<div layout horizontal center center-justified style="min-width: 94px">
								{{#if dead}}
									DEAD
								{{else}}
									{{#if stable}}
										<paper-button id="stableButton">Stable</paper-button>
									{{else}}
										<paper-button id="unstableButton">Unstable</paper-button>
									{{/if}}
								{{/if}}
							</div>
							<div layout vertical center>
								<div class="caption">Pass</div>
								<div layout horizontal center-justified wrap>
									<paper-icon-button class="slotBubble passBubble" icon={{passIcon 1}} disabled={{passDisabled 1}}></paper-icon-button>
									<paper-icon-button class="slotBubble passBubble" icon={{passIcon 2}} disabled={{passDisabled 2}}></paper-icon-button>
									<paper-icon-button class="slotBubble passBubble" icon={{passIcon 3}} disabled={{passDisabled 3}}></paper-icon-button>
								</div>
							</div>
						</div>
					</div>
				{{/with}}
			{{/if}}
		</div>
	</paper-shadow>
</template>
